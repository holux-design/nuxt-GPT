# Chat

The module allows to start a chat very easily. The history is persisted in a `ref()` and therefore automatically updates in the UI.

```ts
const { messages, send } = useGPT().createChat()
```

## `.createChat(systemPrompt)`

Creates a new chat instance.

### Parameters

| key | Type | Default | Description |
|--|--|--|--|
|**systemPrompt**|`String`|optional|Lets you start the chat with a priming-message of role `system`.

`systemPrompt` can be used to define the style of the conversation like `.createChat('You are a polite sales person')`


### Return values

Returns a `messages` variable and a `send(prompt, onSubmit)` function

| key | Type | Default | Description |
|--|--|--|--|
|**messages**|`ref<Message[]>`|`[]`|Contains all messages from both the user and the assistant in historical order.
|**send**|`(prompt, onSubmit):Function`||Is used to submit a new message to the chat. Accepts a callback function `onSubmit` e.g. for reseting an input field.

```ts
type Message = {
	role: 'system' | 'assistant' | 'user',
	message: string,
	datetime_js:number
}
```


### Example:

```ts
const { messages, send } = useGPT().createChat()

await send('Hi how are you?')
```

### Minimal Demo

```vue
<template>
   <pre>{{ messages }}</pre>
   <input
      type="text"
      v-model="input"
      @keyup.enter="send(input, () => (input = ''))" />
</template>

<script setup lang="ts">
	const { messages, send } = useGPT().createChat()
	const input = ref<string>('')
</script>

```