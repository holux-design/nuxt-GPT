# Security

The actual AI requests are placed in API Endpoints as `/api/chat-gpt/<endpoint>`. To ensure that no one can access this API other than your own frontend, a server middleware is used.

Here's how it works:

- The Endpoints themselves dont have access to the apiKey. This is to ensure that direct calling will fail due to the missing apiKey (returns `403 Forbidden`)
- A custom server middleware is added for all API calls to `/api/chat-gpt/*`. The middleware then adds the apiKey from the runtimeConfig to the context of the event (`event.context.auth.gpt.apiKey`)
- The Endpoint now checks if a key has been added to the context and if so, uses it.